#!/usr/bin/env bash

set -eu
trap usage ERR

readonly DOTDIR=$(realpath $0 | sed -e 's/\(.*dotfiles\).*/\1/')

usage() {
  echo "${0##*/} - easy getting started script"
  echo ""
  echo "Usage: ${0##*/} <command>"
  echo ""
  echo "Commands:"
  echo "    line      /Applications/LINE.app"
  echo "    slack     /Applications/Slack.app"
  echo "    music     /System/Applications/Music.app"
  echo "    trello    https://trello.com"
  echo "    zotero    /Applications/Zotero.app"
  echo "    atcoder   https://kenkoooo.com/atcoder/ and atcoder dir"
  echo "    dotfiles  dotfiles dir"
  echo "    help      show help"
  echo ""
  exit 1
}

line() {
  open /Applications/LINE.app
}

slack() {
  open /Applications/Slack.app
}

music() {
  open /System/Applications/Music.app
}

trello() {
  open https://trello.com
}

zotero() {
  open /Applications/Zotero.app
}

atcoder() {
  open https://kenkoooo.com/atcoder/#/table/kokorinosoba
  atom $HOME/Documents/contests
}

dotfiles() {
  atom $DOTDIR
}

if [[ $# -ne 1 ]] || [[ $1 = "help" ]]; then
  usage
fi

$1 2>/dev/null
