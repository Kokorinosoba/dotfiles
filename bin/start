#!/usr/bin/env bash

set -eu
trap usage ERR

readonly DOTDIR=$(realpath $0 | sed -e 's/\(.*dotfiles\).*/\1/')

usage() {
  echo "${0##*/} - easy getting started script"                      1>&2
  echo ""                                                            1>&2
  echo "Usage: ${0##*/} <command>"                                   1>&2
  echo ""                                                            1>&2
  echo "Commands:"                                                   1>&2
  echo "    line      /Applications/LINE.app"                        1>&2
  echo "    slack     /Applications/Slack.app"                       1>&2
  echo "    music     /System/Applications/Music.app"                1>&2
  echo "    trello    https://trello.com"                            1>&2
  echo "    zotero    /Applications/Zotero.app"                      1>&2
  echo "    atcoder   https://kenkoooo.com/atcoder/ and atcoder dir" 1>&2
  echo "    dotfiles  dotfiles dir"                                  1>&2
  echo "    help      show help"                                     1>&2
  echo ""                                                            1>&2
  exit 1
}

line() {
  open /Applications/LINE.app
}

slack() {
  open /Applications/Slack.app
}

music() {
  open /System/Applications/Music.app
}

trello() {
  open https://trello.com
}

zotero() {
  open /Applications/Zotero.app
}

atcoder() {
  open https://kenkoooo.com/atcoder/#/table/kokorinosoba
  atom $HOME/Documents/contests
}

dotfiles() {
  atom $DOTDIR
}

if [[ $# -ne 1 ]] || [[ $1 == "help" ]]; then
  usage
fi

$1 2>/dev/null
